var VideoRichHoverHandler,VideoRichHover;(function(n){function hi(n,t,r,u){dt&&(!r||!r.bindInfos||r.bindInfos.length<1||(i[n]=r,t&&sj_evt.bind(bt,ci),gt=u,ft(r)))}function ci(n){var t,r;if(n)if(t=null,n.length>1&&(t=n[1]),!t||t.length<1)for(r in i)ft(i[r]?i[r]:null);else ft(i[t]?i[t]:null)}function ft(n){var h,r,u,i,f,e,s,t,c;if(n!=null&&(h=n.bindInfos,r=ti(h),r!=null&&!(r.length<1))){for(u=0;u<r.length;u++)if(i=r[u],i!==null&&i.elements!==null&&i.targetInfo!==null)for(f=i.targetInfo,e=0;e<i.elements.length;e++)if((s=i.elements[e],t=et(s,f),t)&&(c=li(n,t),!ai(t)))switch(c){case VRHEnums.HoverPlayType.BackgroundPlay:t.setAttribute(v,null);break;case VRHEnums.HoverPlayType.HoverLoopPlay:t.setAttribute(it,null);o(t,"mousemove",er,!1,!1);ni(t,s,n.entabhover,f);break;case VRHEnums.HoverPlayType.HoverPlay:t.setAttribute(tt,null);o(t,"mousemove",fr,!1,!1);ni(t,s,n.entabhover,f);break;case VRHEnums.HoverPlayType.Null:t.setAttribute(tt,null)}o(_w,"focus",bi,!0);gt||o(_w,"blur",di,!0);n.enAutoPlayOnLoad&&sj_evt.bind("onP1",vr,!0)}}function ni(n,t,i,r){if(o(n,"touchstart",ur,!1,!1),o(t,"mouseout",ri,!1,!1),i===!0){var u=yi(n,r);u&&o(u,"focus",ki,!1,!1)}}function li(n){var t=VRHEnums.HoverPlayType.Null;return n.enBgPlay?t=VRHEnums.HoverPlayType.BackgroundPlay:n.enHoverControl&&(t=n.enLoopPlayOnHover?VRHEnums.HoverPlayType.HoverLoopPlay:VRHEnums.HoverPlayType.HoverPlay),t}function ai(n){return n==null?!0:e(n,tt)||e(n,v)||e(n,it)}function vi(n){var t=Array(),l,r,o,u,c,e,s,h;for(l in i)r=i[l],r&&(n&&r.enAutoPlayOnLoad||r.enAutoPlayNext)&&(o=ti(r.bindInfos),o!=null&&o.length>0&&(t=t.concat(o)));if(t.length<1)return null;for(u=0;u<t.length;u++)if(c=t[u].targetInfo,e=t[u].elements,c!==null&&e!==null&&!(e.length<1))for(s=0;s<e.length;s++)if((h=et(e[s],c,!0),h!==null)&&!f(h,lt))return h;return null}function yi(n,t){var r,i;if(!t||!n)return null;if(l(n,t.tcn)){if(r=t.ttcn,!r||r.length<1)return null;i=n;do{if(i&&l(i,r))return i;i=i.parentElement}while(i&&i!=_d.body);return null}return null}function pi(n){var u,i,f,t,e,r;if(!n||n.length<1)return null;for(u=[],i=0;i<n.length;i++)f=n[i].id,t=n[i].target,f&&t&&t.tcn&&t.ttcn&&(e=_ge(f),e&&(r=w(t.ttcn,e),r&&r.length>0&&u.push({targetInfo:t,elements:r})));return u}function ti(n){var r,i,f,t,e,u;if(!n||n.length<1)return null;for(r=[],i=0;i<n.length;i++)f=n[i].id,t=n[i].target,f&&t&&t.bcn&&t.tcn&&(e=_ge(f),e&&(u=w(t.bcn,e),u&&u.length>0&&r.push({targetInfo:t,elements:u})));return r.length>0?r:null}function et(n,t,i){var u,f,r;return(i===void 0&&(i=!1),n&&t&&(u=ht(n,y),u))?(f=t.tcn===t.bcn?n:b(t.tcn,n),i)?(r=ct(u),!r||!r.cid)?null:r.smturl&&r.smturl!=null&&r.smturl.length>0?f:null:f:null}function wi(n){var t=Array(),c,o,f,r,s,u,e,h;for(c in i)o=i[c],o&&(f=pi(o.bindInfos),f!=null&&f.length>0&&(t=t.concat(f)));if(t.length<1)return null;for(r=0;r<t.length;r++)if(s=t[r].targetInfo,u=t[r].elements,s!==null&&u!==null&&!(u.length<1))for(e=0;e<u.length;e++)if(u[e]==n&&(h=et(n,s,!1),h!==null))return h;return null}function ot(n){sj_evt.fire(n,VRHEnums.HoveredElementType.Adult);sj_evt.fire(n,VRHEnums.HoveredElementType.Algo)}function bi(){ot(r.HoverEnableEvt)}function ki(n){var i=sj_et(n),t=wi(i);t&&(g(t,VRHEnums.TriggerType.TabTrigger),k=!0)}function di(){_d.activeElement!=null&&(_d.activeElement!=sj_b?(a(),ot(r.HoverDisableEvt)):ot(r.HoverEnableEvt))}function st(n){for(var i=n,r;i!=null;){if(r=ht(i,y),r)return r;if(l(i,at))return st(t);i=i.parentNode&&i.parentNode!=i?i.parentNode:null}return null}function ht(n,t){var i,r;if(n){if(f(n,t)===!0)return n;if(n.children&&n.children.length>0)for(i=0;i<n.children.length;i++)if(r=ht(n.children[i],t),r)return r}return null}function gi(n,t,i){for(var r=n;r;){if(r.id==i)return null;if(l(r,t))return r;r=r.parentElement}return null}function nr(n,t){var i=_ge(n);return i==null?null:b(t,i)}function tr(n,t){return s(n,t,VRHEnums.HoverTargetType.Boundary)}function ir(n,t){return s(n,t,VRHEnums.HoverTargetType.Target)}function s(n,t,r){var s,h,e;if(n&&t&&(s=i[t]?i[t].bindInfos:null,s&&s.length>0))for(h=0;h<s.length;h++){var u=s[h],f=null,o=null,c=null;switch(r){case VRHEnums.HoverTargetType.Boundary:f=u.target.bcn;break;case VRHEnums.HoverTargetType.CaptionSource:f=u.target.bcn;c=u.target.cscn;break;case VRHEnums.HoverTargetType.Target:f=u.target.tcn;break;case VRHEnums.HoverTargetType.PlayerBoundary:f=u.target.pbcn;o=u.target.ppid;break;case VRHEnums.HoverTargetType.MMSTBoundary:f=u.target.mbcn;o=u.target.mpid;break;case VRHEnums.HoverTargetType.CaptionTarget:f=u.target.ctcn;o=u.target.tpid;break;case VRHEnums.HoverTargetType.LinkTarget:f=u.target.ltcn;o=u.target.tpid}if(f&&(e=null,o!=null?e=nr(o,f):(e=gi(n,f,u.id),e&&c&&(e=b(c,e))),e))return e}return null}function rr(n){for(var t=n;t;){if(l(t,at))return!0;t=t.parentElement}return!1}function ct(n){var t=null,r=null,i=null,o=null,u=null;if(f(n,y)===!0&&(u=e(n,y)),u==null)return null;try{t=JSON.parse(u);i=t.capt;i&&(o={de:i.de,filterUrlFormat:null,pu:i.pu,puid:i.puid,pud:i.pud,r:i.r,s:i.s,sk:i.sk,t:t.vt,vc:i.vc,actkeylst:i.actkeylst,actpayload:i.actpayload,saved:i.saved});r={ma:!!(t.bv&2),at:!!(t.bv&4),capt:o,cc:t.cc,cid:t.cid,ct:t.ct,du:t.du,md5:t.md5,mid:t.mid,mmsturl:t.mmsturl,paid:!!(t.bv&1),purl:t.purl,smturl:t.smturl,thid:t.thid,vt:t.vt,bci:t.bci,murl:t.murl,sab:!!(t.bv&8),pgurl:t.pgurl,q:t.q,el:!!(t.bv&16)}}catch(s){r=null}return r}function ur(n){var t=sj_et(n);p=t;sb_st(function(){p=null},500)}function fr(n){var t=sj_et(n);p!=t&&(g(t,VRHEnums.TriggerType.MouseTrigger),k=!0)}function er(n){var t=sj_et(n);p!=t&&(g(t,VRHEnums.TriggerType.HoverLoopPlayTrigger),k=!0)}function g(n,i){var l=st(n),r,y,u,o,p,w,h,k;if(!l){t&&a();return}if((r=ct(l),r&&r.cid)&&(y=ir(n,r.cid),y!==t)&&(f(y,v)||(t=y),u=parseInt(e(l,"ht")),u||(u=0),!(u>=0)||!(u<c.length)||c[u]!==!1)&&(o=tr(n,r.cid),o)){var b=s(n,r.cid,VRHEnums.HoverTargetType.PlayerBoundary),tt=s(n,r.cid,VRHEnums.HoverTargetType.MMSTBoundary),it=s(n,r.cid,VRHEnums.HoverTargetType.CaptionSource),ft=s(n,r.cid,VRHEnums.HoverTargetType.CaptionTarget),et=s(n,r.cid,VRHEnums.HoverTargetType.LinkTarget),d=null;if(b!=null&&(p=b.getElementsByClassName(si),p&&p.length>0&&(w=p[0].getElementsByTagName("img"),w&&w.length>0&&(d=w[0]))),h=o.getElementsByTagName("img"),h&&h.length>0){var ot=h[0].clientHeight,ht=h[0].clientWidth,g=o.clientWidth,nt=o.clientHeight;r.capt&&r.capt.sk&&(r.capt.sk=sr(o));k={containerId:r.cid,containerHeight:nt,containerWidth:g,hoverType:u,thumbnailHeight:Math.min(nt,ot),thumbnailWidth:Math.min(g,ht),videoRichHoverMetaData:r,instMetaData:null,hoveredElement:o,triggerType:i,playerTargetEl:b,mmstTargetEl:tt,captionSourceEl:it,captionTargetEl:ft,linkTargetEl:et,playerThumbnailEl:d};ut&&(rt=ut(l,u,r.cid),k.instMetaData=rt);sj_evt.fire(wt,k,o,or(r))}}}function or(n){if(!n)return null;var t=VRHEnums.ThumbnailType.ST;return n.mmsturl&&n.smturl&&n.cc>0?t=VRHEnums.ThumbnailType.MMMT:n.smturl&&(t=VRHEnums.ThumbnailType.MT),t}function sr(n){var t,u,f,e,i,r;if(!n)return null;if(t=w("rms_img",n),u=[],t&&t.length>0){for(f=0;f<t.length;f++)if(e=kt(t[f]),i=e.split(" "),i)for(r=0;r<i.length;r++)i[r].match("rms_rmsanswers")&&u.push(i[r]);if(u.length>0)return u.join(" ")}return null}function ii(){t!==null&&(t=null,rt=null)}function ri(n){if(t&&!f(t,it)){var i=ui(sj_mo(n));i!==ui(t)&&t&&a()}}function ui(n){var f,e,r,u;return typeof i==h||!i?null:(rr(n)&&(n=t),f=st(n),e=null,f&&(r=ct(f),r&&(u=i[r.cid],typeof u!=h&&u&&(e=s(n,r.cid,u.hmot)))),e)}function a(){f(t,v)||(d&&yr(),sj_evt.fire(r.HoverCancelEvt),ii())}function hr(n){n&&n.length>1?ri(n[1]):t&&a()}function cr(n,t,i){for(var s="h",h="data-h",r,u,o,c;n!=null;){if((f(n,s)||f(n,h))&&(r=e(n,s)||e(n,h),r&&(u=r.match(/ID=[\w]+(\.[\d]+_[\d]+)*,[\d]+\.[\d]+/),u)))return o=u[0].substr(3).split(","),c={AppNS:o[0],K:o[1],HoverType:t,HoverContainerId:i},c;n=n.parentNode&&n.parentNode!=n?n.parentNode:null}return null}function lr(n){if(n&&!(n.length<2)){var t=parseInt(n[1]);t<c.length&&t>=0&&(c[t]=!0)}}function ar(n){if(n&&!(n.length<2)){var t=parseInt(n[1]);t<c.length&&t>=0&&(c[t]=!1)}}function vr(){ei(!0)}function fi(){ei(!1)}function ei(n){if(!k&&!d){d=!0;sj_evt.unbind(r.AutoPlayNext,fi);var t=vi(n);g(t,VRHEnums.TriggerType.AutoplayTrigger);sj_evt.bind(r.AutoPlayNext,fi)}}function yr(){t!==null&&t.setAttribute(lt,null);d=!1}function pr(){u&&u.gebc&&u.ha&&u.ga&&u.hc&&oi&&r&&nt&&nt.bind&&(f=u.ha,w=u.gebc,e=u.ga,l=u.hc,kt=u.gcn,b=u.gfbc,o=nt.bind,yt=r.HoverDisableEvt,vt=r.HoverEnableEvt,wt=r.HoverMouseInEvt,pt=r.HoverStopEvt,ut=cr,bt=r.HoverAsyncBindEvt,t=null,sj_evt.bind(r.PlayerEndEvt,a),sj_evt.bind(r.HoverCleanupEvt,ii),sj_evt.bind(pt,hr),sj_evt.bind(vt,lr),sj_evt.bind(yt,ar),dt=!0)}var h="undefined",u=typeof pMMUtils!=h?pMMUtils:null,oi=typeof VideoRichHoverUtils!=h?VideoRichHoverUtils:null,nt=typeof SmartEvent!=h?SmartEvent:null,r=typeof VRHConsts!=h?VRHConsts:null,tt="vrhatt",it="hapatt",v="bpatt",lt="apEnd",y="vrhm",at="vrhc",si="cico",t=null,p=null,rt=null,vt=null,yt=null,pt=null,wt=null,bt=null,c=[!0,!0],f=null,e=null,w=null,l=null,kt=null,o=null,b=null,ut,dt=!1,i={},gt=!1,k=!1,d=!1;n.init=hi;pr()})(VideoRichHoverHandler||(VideoRichHoverHandler={})),function(n){function vi(){u&&i&&pt&&yt&&!wt&&(nt=yt.bind,p=u.ga,kt=u.gcn,c=u.sa,bt=u.sc,a=u.hc,dt=u.sp,st=u.goh,ot=u.gow,gt=u.go,tt=u.gfbc,ai=u.sh,ti=u.sw,w=u.ac,rt=u.rc,ni=pt.showElement,pi(),wt=!0,sj_evt.fire(i.HoverReadyEvt))}function yi(n,t){!n||!t||t.length<1||!n.bindInfos||n.bindInfos.length<1||(v[t]||(v[t]=n),(n.enhoverhb||n.enmmstinst||n.enperfinst)&&typeof VideoRichHoverInst!="undefined"&&VideoRichHoverInst&&VideoRichHoverInst.init&&VideoRichHoverInst.init(t,n),typeof VideoRichHoverHandler!=e&&VideoRichHoverHandler.init&&VideoRichHoverHandler.init(t,n.isAsyncBind,n,n.bh))}function pi(){sj_evt.bind(i.HoverMouseInEvt,fr);sj_evt.bind(i.PlayerLoadEvt,wi);sj_evt.bind(i.PlayerStartEvt,bi);sj_evt.bind(i.PlayerEndEvt,ri);sj_evt.bind(i.PlayerErrEvt,ri);sj_evt.bind(i.HoverCancelEvt,ir);sj_evt.bind(i.HoverMMSTShowEvt,lr);sj_evt.bind(i.HoverMMSTHideEvt,ei)}function ii(n){return n&&n.length>2&&n[2]===ct}function wi(){}function bi(n){ii(n)&&sj_evt.fire(i.CaptionHideEvt,n[1])}function ri(n){ii(n)&&(g(),ut&&(ut=null,fi()))}function ki(n,t){for(var i=n;i;){if(i.offsetParent===t)return t;i=i.offsetParent}return t?t.offsetParent:null}function ui(n){var t,i;if(n)for(t=0;t<n.length;t++)if(n[t]&&n[t].id&&(i=_ge(n[t].id),i))return i;return null}function di(n){var y,a,u,ut,ni,ti,nt,ii,et;if(n&&(y=n.containerId,a=v[y],a)&&(a.chflturl&&n&&n.videoRichHoverMetaData&&n.videoRichHoverMetaData.capt&&(n.videoRichHoverMetaData.capt.filterUrlFormat=a.chflturl),a.tw&&(n.containerWidth=n.thumbnailWidth=a.tw),a.th&&(n.thumbnailHeight=a.th),l=_ge(y),l)){var it=a.isInline,g=it?n.containerWidth:n.thumbnailWidth,ri=it?n.containerHeight:n.thumbnailHeight;s=n.playerTargetEl;var rt=n.mmstTargetEl,k=n.captionTargetEl,st=s!=null?s.clientWidth:g,fi=s!=null?s.clientHeight:n.thumbnailHeight,yt=rt!=null?rt.clientWidth:g,pt=k!=null?k.clientWidth:g,wt="data-tag",ei=p(l,wt),dt=kt(l),gt=dt.replace(" hide",""),ot=nr(gi(n.hoveredElement,a));if((t=sj_ce("div",null,gt),t)&&(bt(t,dt),c(t,wt,ei),ot?(t.appendChild(ot),ot.innerHTML=l.innerHTML):t.innerHTML=l.innerHTML,d=n.instMetaData,u=n.videoRichHoverMetaData,ut=0,typeof CaptionContainer!=e&&CaptionContainer.init&&CaptionContainer.init(y,t,pt,!0,u.capt,n.instMetaData,n.hoveredElement),ni={containerWidth:yt,thumbCnt:u.cc,mmstUrl:u.mmsturl,isAdultThumb:u.at},typeof MultiMotionStaticThumbnail!=e&&MultiMotionStaticThumbnail.init&&(MultiMotionStaticThumbnail.init(y,t,ni,a,n.instMetaData),ut=MultiMotionStaticThumbnail.clientHeight(y)),ti={videoUrl:u.purl,mediaUrl:u.murl,thid:u.thid,smtThumbUrl:u.smturl,videoHash:u.md5,thumbnailHeight:fi,thumbnailWidth:st,isMediaAdult:u.ma,isAdultThumb:u.at,isDebug:!0,isPaidContent:u.paid,expandable:!0,playClipsCount:v[y].mmstcnt,clipsCount:u.cc,clipsTimeline:ur(u.ct,u.cc),updatePlayProgress:!0,imageThumbUrl:null,videoTitle:u.vt,cookiePre:a.cookiePre,beginClipIndex:u.bci>0?u.bci:0,endClipIndex:a.pcc>0&&u.bci>0?u.bci+a.pcc-1:0,mediaId:u.mid,isSaveable:u.sab,pageoUrl:u.pgurl,query:u.q,enableLoop:u.el},typeof ThumbnailPlayer!=e&&ThumbnailPlayer.init&&(ThumbnailPlayer.init(y,g,n.hoverType,a,t,ct,ti,n.instMetaData),ut+=ThumbnailPlayer.clientHeight(y)),nt=null,it?(nt=r,ii=k!=null?k.clientHeight:Math.max(0,ri-ut),sj_evt.fire(i.HoverCaptionHUpdateEvt,ii)):(et=ui(b.boundaryElIds),et||(et=_d.body),nt=et),nt)){if(s&&(f=tt(lt,t),f&&(w(f,"outer_pc"),ft(s,f,lt,st),sj_evt.fire(i.OverlaySizeUpdateEvt,g,n.thumbnailHeight))),rt&&(o=tt(at,t),o&&ft(rt,o,at,yt)),k&&(n.captionSourceEl!=null?k.innerHTML=n.captionSourceEl.innerHTML:(h=tt(vt,t),h&&ft(k,h,vt,pt))),ft(nt,t,gt,g),hr(),sj_evt.fire(i.HoverVisible,r,!0),!it&&!br(r,t,a)){sj_evt.fire(i.HoverCancelEvt);return}ht(t,a.ic>0);ht(f,a.ic>0);ht(o,a.ic>0)}}}function ft(n,t,i,r){var u=n.firstChild;a(u,i)&&u.parentNode==n&&(n.removeChild(u),u=n.firstElementChild);n.insertBefore(t,u);ti(t,r);ni(t,!0)}function ht(n,t){n!=null&&(sj_evt.fire("focusChange",n),nt(n,"mouseout",sr),t&&nt(n,"click",ar),k.triggerType==VRHEnums.TriggerType.TabTrigger&&nt(n,"focusout",tr))}function gi(n,t){var u,f,e,i,r;if(!t||!n||!t.bindInfos||t.bindInfos.length<1)return null;for(u=0;u<t.bindInfos.length;u++)if(f=t.bindInfos[u],a(n,f.target.bcn)&&(e=f.target.tacn,i=oi(n),i&&i.length>0))for(r=0;r<i.length;r++)if(a(i[r],e))return i[r];return null}function nr(n){var t,i,r;return n&&n.href?(t=sj_ce("a",null,"hover-anchor"),t.href=n.href,n.target&&(t.target=n.target),i=p(n,"h"),i&&c(t,"h",i),r=p(n,"aria-label"),r&&c(t,"aria-label",r),t):null}function tr(n){n&&_d&&_d.activeElement&&sb_st(function(){var n=_d.activeElement;if(!et(n)){sj_evt.fire(i.HoverStopEvt);return}},10)}function ir(){it===!0?y||(y=function(){sj_evt.fire(VRHConsts.StopPlayEvt,d);g();sj_evt.fire(VRHConsts.HoverCleanupEvt)}):(sj_evt.fire(VRHConsts.StopPlayEvt,d),g());sj_evt.fire(VRHConsts.HoverCleanupEvt)}function rr(n){while(n){if(n.tagName=="a"||n.tagName=="A")return!0;n=n.parentNode&&n.parentNode!=n?n.parentNode:null}return!1}function ur(n,t){if(typeof n!=e&&typeof t!=e&&typeof enableMockImages!==e&&enableMockImages()){var r=n.split(","),i=li.split(",");return i.length=Math.min(r.length,t),i.join(",")}return n}function fr(n){var f,t,u;if(n&&n.length>2){if(f=n[2],t=n[1],!t||!t.containerHeight||!t.containerWidth||!t.videoRichHoverMetaData)return;if(it===!0)return;if(f&&f!==r)or(t),r==null||r.hasAttribute(ci)||g(),r=f,k=t;else return;if(u=v[t.containerId],!u)return;b=u;it=!0;y=null;ut=null;sb_st(function(){sj_evt.fire(i.HoverStartEvt,t.instMetaData,t.triggerType);di(t);y&&(y(),y=null);it=!1;t.triggerType==VRHEnums.TriggerType.AutoplayTrigger&&u.enAutoPlayNext&&(ut=fi)},u.hoverdelayms);er(t)}}function er(n){var i=n.videoRichHoverMetaData,t;i!=null&&(t=n.linkTargetEl,t!=null&&(c(t,"href",i.purl),c(t,"aria-label",i.vt)))}function or(n){var e=n.containerId,u=v[e],t,r,i;if(u!=null&&(t=n.videoRichHoverMetaData,t!=null)&&(r=n.playerThumbnailEl,i=n.playerTargetEl,r!=null&&i!=null)){var o=t.thid,s=t.at,h=i.clientWidth,l=i.clientHeight,a=u.pid,f=ThUrlGenerator.NewThumbnailUrl(o,s,h,l,a,ThUrlGenerator.CroppingType.SmartRatio,ThUrlGenerator.ResizeMode.Ratio);f!=null&&c(r,"src",f)}}function fi(){sj_evt.fire(i.AutoPlayNext)}function sr(n){et(sj_mo(n))||sj_evt.fire(i.HoverStopEvt,n)}function hr(){r&&w(r,"onhov");s&&w(s,"onhov")}function cr(){r&&rt(r,"onhov");s&&rt(s,"onhov")}function lr(){r&&w(r,"mmsts")}function ei(){r&&rt(r,"mmsts")}function ar(n){var o=sj_et(n),s,u,t,f;if(et(o)&&!rr(o)&&r&&si()&&k&&((new Image).src=_G.gpUrl+"IG="+_G.IG+"&"+p(r,"h"),s=k.hoverType,u=!1,s===VRHEnums.HoveredElementType.Adult?(typeof AnsSSDlg!=e&&typeof AnsSSDlg.sw=="function"&&AnsSSDlg.sw(n,"vdo_ans_ss_dlg"),u=!0):n.ctrlKey||n.button==1||(t=yr(vr(r,b?b.bindInfos:null)),t&&(f=document.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,_w,0,0,0,0,0,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,t),t.dispatchEvent(f),typeof si_ct=="function"&&si_ct(t)),u=!0),sj_evt.fire(i.HoverDisableEvt,VRHEnums.HoveredElementType.Algo),g(),u)){sj_pd(n);sj_sp(n);return}}function vr(n,t){var r;if(n&&t)for(r=0;r<t.length;r++){for(var u=t[r],f=u.target,i=n;i&&!a(i,f.bcn);)i=i.parentElement;if(i)return i}return null}function oi(n){return n?n.getElementsByTagName("a"):null}function yr(n){var i=oi(n),t;if(i)for(t=0;t<i.length;t++)if(!et(i[t]))return i[t];return n}function et(n){while(n!=null){if(a(n,hi))return!0;n=n.parentNode&&n.parentNode!=n?n.parentNode:null}return!1}function si(){return t!=null||f!=null||o!=null}function g(){ei();cr();si()&&(pr()&&sj_evt.fire(i.HoverVisible,r,!1),wr(),sj_evt.fire(VRHConsts.HoverMouseOutEvt,d));d=null;r=null;k=null}function pr(){var n=null;return t!=null&&t.parentElement!=null&&(n=t.parentElement,n.removeChild(t)),f!=null&&f.parentElement!=null&&(n=f.parentElement,n.removeChild(f)),o!=null&&o.parentElement!=null&&(n=o.parentElement,n.removeChild(o)),h!=null&&h.parentElement!=null&&(n=h.parentElement,n.removeChild(h)),n!=null}function wr(){t!=null&&(t.innerHTML=null,t=null);f!=null&&(f.innerHTML=null,f=null);o!=null&&(o.innerHTML=null,o=null)}function br(n,t,i){var r=kr(t,n,i);return r?(dt(t,r.l,r.t),!0):!1}function kr(n,t,i){var e,h,c;if(!i||!n||!t||(e=ki(t,ui(b.boundaryElIds)),!e))return null;var f=dr(e,i),l=gt(t,!0,!1,e),r=l[0],u=l[1],o=ot(t),s=st(t);if(f.l>r+o/2||f.t>u+s/2||f.r<r+o/2||f.b<u+s/2)return null;h=ot(n);c=st(n);r-=(h-o)/2;r=Math.ceil(r);r=Math.min(r,f.r-h-2);r=Math.max(r,f.l);switch(i.va){case VRHEnums.HoverVerticalAlignType.Top:break;case VRHEnums.HoverVerticalAlignType.Middle:default:u-=(c-s)/2}return u=Math.floor(u),u=Math.min(u,f.b-c-2),u=Math.max(u,f.t),{l:r,t:u}}function dr(n){var t=n?0:sb_de.scrollLeft,i=n?0:sb_de.scrollTop,r=n.clientWidth,u=n.clientHeight;return{l:t,t:i,r:r,b:u}}var ct="VRTP",hi="vrhc",lt="vrhtpc",at="vhcic",vt="vrhcs",ci="bpatt",e="undefined",li="0.000,60.000,120.000,180.000",u=typeof pMMUtils!=e?pMMUtils:null,yt=typeof SmartEvent!=e?SmartEvent:null,pt=typeof VideoRichHoverUtils!=e?VideoRichHoverUtils:null,i=typeof VRHConsts!=e?VRHConsts:null,l=null,t=null,r=null,f=null,o=null,h=null,s=null,wt=!1,nt=null,bt=null,p=null,c=null,kt=null,dt=null,ai=null,ot=null,st=null,gt=null,tt=null,a=null,ni=null,ti=null,it=!1,w=null,rt=null,b=null,k,d=null,v={},y,ut=null;n.init=yi;vi()}(VideoRichHover||(VideoRichHover={}))